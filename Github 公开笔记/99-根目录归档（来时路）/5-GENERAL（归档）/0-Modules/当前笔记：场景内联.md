---
笔记内容:
  - 低级
---
```dataviewjs
try {
    const pages = dv.pages(`"${dv.current().file.path}"`);
    const scenes = []; // 存储所有场景内容
    
    for (let page of pages) {
        for (let list of page.file.lists) {
            let content = "";
            
            // 处理两种格式：(场景::内容) 和 场景::内容
            if (list.text.includes("(场景::") && list.text.includes(")")) {
                // 提取括号内的内容
                const match = list.text.match(/\(场景::(.*?)\)/);
                if (match && match[1]) {
                    content = match[1].trim();
                }
            } else if (list.text.includes("场景::")) {
                // 直接提取场景内容
                content = list.text.replace("场景::", "").trim();
            }
            
            if (content) {
                scenes.push(content);
            }
        }
    }
    
    // 使用无序列表形式输出，更加紧凑
    if (scenes.length > 0) {
        let listHTML = "<ul style='line-height: 1.2; margin-top: 0; margin-bottom: 0;'>";
        for (let scene of scenes) {
            listHTML += `<li>${scene}</li>`;
        }
        listHTML += "</ul>";
        dv.el("div", listHTML);
    } else {
        dv.paragraph("未找到场景内容");
    }
} catch (e) {
    dv.paragraph("错误: " + e.message);
}
```